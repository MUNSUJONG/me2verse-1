<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8">
  <title>Me2Verse VR í”„ë¡œì íŠ¸ ì•± (í€˜ìŠ¤íŠ¸ í™•ì¥)</title>
  <script src="https://aframe.io/releases/1.4.2/aframe.min.js"></script>
  <style>
    body { margin:0; padding:0; font-family: Arial, sans-serif; background:#f0f0f0; }
    #status { position:fixed; top:10px; left:50%; transform:translateX(-50%); background:rgba(255,255,255,0.85); padding:5px 10px; border-radius:5px; font-size:16px; z-index:3; }
    #score { position:fixed; bottom:10px; left:50%; transform:translateX(-50%); background:rgba(0,0,0,0.6); color:white; padding:5px 10px; border-radius:5px; font-size:16px; z-index:3; }
    .screen { width:100%; height:100vh; display:flex; justify-content:center; align-items:center; flex-direction:column; transition:all 0.5s; position:absolute; top:0; left:0; }
    #homeScreen { background:white; z-index:3; }
    #moduleScreen { background:#fafafa; display:none; z-index:2; }
    #vrScreen { background:black; display:none; z-index:1; }
    input, select, button { padding:10px 15px; margin:5px; font-size:16px; border-radius:5px; border:1px solid #ccc; }
    button { cursor:pointer; border:none; color:white; }
    #autoBtn { background-color:#2196F3; }
    .moduleBtn { background-color:#4CAF50; }
    #startVRBtn { background-color:#9C27B0; display:none; margin-top:10px; }
    #backBtn { background-color:#FF5722; display:none; margin-top:15px; }
    #questLog { margin-top:15px; background:rgba(255,255,255,0.8); padding:10px; border-radius:5px; width:80%; max-width:400px; font-size:14px; }
    a-scene { width:100%; height:100vh; }
  </style>
</head>
<body>
  <div id="status">ìƒíƒœ: ëŒ€ê¸° ì¤‘</div>
  <div id="score">í¬ì¸íŠ¸: 0 | ì•„ì´í…œ: ì—†ìŒ</div>

  <!-- í™ˆ í™”ë©´ -->
  <div id="homeScreen" class="screen">
    <h1>ğŸš€ Me2Verse VR í”„ë¡œì íŠ¸ ì•±</h1>
    <p>ë¡œê·¸ì¸ â†’ ê²°ì œ â†’ ëª¨ë“ˆ ì„ íƒ â†’ VR ì²´í—˜ â†’ ë’¤ë¡œê°€ê¸°</p>
    <input type="text" id="username" placeholder="ìœ ì € ì´ë¦„ ì…ë ¥">
    <select id="amount">
      <option value="1000">â‚©1,000</option>
      <option value="5000">â‚©5,000</option>
      <option value="10000">â‚©10,000</option>
    </select>
    <br/>
    <button id="autoBtn">ìë™ ë¡œê·¸ì¸ + ê²°ì œ</button>
  </div>

  <!-- ëª¨ë“ˆ ì„ íƒ / ìƒì„¸ í™”ë©´ -->
  <div id="moduleScreen" class="screen">
    <h2>ëª¨ë“ˆ ì„ íƒ</h2>
    <div>
      <button class="moduleBtn" id="loveModule">ì—°ì•  ëª¨ë“ˆ</button>
      <button class="moduleBtn" id="spaceModule">ìš°ì£¼ì²´í—˜ ëª¨ë“ˆ</button>
      <button class="moduleBtn" id="hobbyModule">ì·¨ë¯¸ ëª¨ë“ˆ</button>
    </div>
    <div id="moduleDetail" style="margin-top:20px;">
      <h3 id="moduleTitle"></h3>
      <p id="moduleDesc"></p>
      <button id="startVRBtn">VR ì²´í—˜ ì‹œì‘</button>
      <button id="backBtn">ğŸ  ë’¤ë¡œê°€ê¸°</button>
      <div id="questLog"></div>
    </div>
  </div>

  <!-- VR í™”ë©´ -->
  <div id="vrScreen" class="screen">
    <a-scene id="vrScene">
      <a-sky id="vrSky" color="#ECECEC"></a-sky>
      <a-entity id="moduleContent"></a-entity>
      <a-entity id="cameraRig" position="0 1.6 0">
        <a-camera wasd-controls look-controls>
          <a-cursor color="black"></a-cursor>
        </a-camera>
      </a-entity>
    </a-scene>
  </div>

  <script>
    alert("âœ… Me2Verse VR í”„ë¡œì íŠ¸ ì•± (í€˜ìŠ¤íŠ¸ í™•ì¥) ì‹¤í–‰!");

    const statusEl = document.getElementById("status");
    const scoreEl = document.getElementById("score");
    const homeScreen = document.getElementById("homeScreen");
    const moduleScreen = document.getElementById("moduleScreen");
    const vrScreen = document.getElementById("vrScreen");
    const moduleContent = document.getElementById("moduleContent");
    const vrSky = document.getElementById("vrSky");

    const moduleTitle = document.getElementById("moduleTitle");
    const moduleDesc = document.getElementById("moduleDesc");
    const startVRBtn = document.getElementById("startVRBtn");
    const backBtn = document.getElementById("backBtn");
    const questLog = document.getElementById("questLog");

    let points = 0;
    let items = [];
    let currentModule = "";
    let logMessages = [];

    function updateScore(){
      scoreEl.textContent = `í¬ì¸íŠ¸: ${points} | ì•„ì´í…œ: ${items.length ? items.join(", ") : "ì—†ìŒ"}`;
    }

    function logQuest(msg){
      logMessages.push(msg);
      questLog.innerHTML = logMessages.map(m => `â€¢ ${m}`).join("<br>");
    }

    // ìë™ ë¡œê·¸ì¸ + ê²°ì œ
    document.getElementById("autoBtn").addEventListener("click", ()=>{
      const username = document.getElementById("username").value.trim();
      const amount = document.getElementById("amount").value;
      if(!username){ alert("ìœ ì € ì´ë¦„ ì…ë ¥ í•„ìš”!"); return; }

      statusEl.textContent=`ìƒíƒœ: ${username} ë¡œê·¸ì¸ ì¤‘...`;
      setTimeout(()=>{
        statusEl.textContent=`ìƒíƒœ: ${username} ë¡œê·¸ì¸ ì„±ê³µ! ğŸ‰`;
        statusEl.textContent=`ìƒíƒœ: ${amount}ì› ê²°ì œ ì²˜ë¦¬ ì¤‘...`;
        setTimeout(()=>{
          statusEl.textContent=`ìƒíƒœ: ${username} ê²°ì œ ì™„ë£Œ! ğŸ’°`;
          alert(`${username}ë‹˜ì˜ ${amount}ì› ê²°ì œê°€ ì™„ë£Œë˜ì—ˆìŠµë‹ˆë‹¤!`);
          homeScreen.style.display="none";
          moduleScreen.style.display="flex";
        },1500);
      },1000);
    });

    // ëª¨ë“ˆ ì„¤ëª…
    const modules = {
      love: {title:"ì—°ì•  ëª¨ë“ˆ", desc:"ìºë¦­í„°ì™€ ìƒí˜¸ì‘ìš©í•˜ë©° ì—°ì•  ì²´í—˜ì„ í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤."},
      space: {title:"ìš°ì£¼ì²´í—˜ ëª¨ë“ˆ", desc:"í–‰ì„±ì„ íƒí—˜í•˜ê³  ìš°ì£¼ë¥¼ ì²´í—˜í•©ë‹ˆë‹¤."},
      hobby: {title:"ì·¨ë¯¸ ëª¨ë“ˆ", desc:"ë‚˜ë¬´, ë²¤ì¹˜ ë“± ì·¨ë¯¸ í™œë™ì„ VRë¡œ ì¦ê²¨ë³´ì„¸ìš”."}
    };

    function selectModule(name){
      currentModule = name;
      moduleTitle.textContent = modules[name].title;
      moduleDesc.textContent = modules[name].desc;
      startVRBtn.style.display="inline-block";
      backBtn.style.display="inline-block";
      logMessages = [];
      questLog.innerHTML = "";
    }

    document.getElementById("loveModule").addEventListener("click", ()=>selectModule("love"));
    document.getElementById("spaceModule").addEventListener("click", ()=>selectModule("space"));
    document.getElementById("hobbyModule").addEventListener("click", ()=>selectModule("hobby"));

    // VR ì²´í—˜ ì‹œì‘
    startVRBtn.addEventListener("click", ()=>{
      moduleScreen.style.display="none";
      vrScreen.style.display="flex";
      moduleContent.innerHTML="";
      points = 0; items = []; updateScore();
      logMessages = []; questLog.innerHTML="";

      if(currentModule==="love"){
        vrSky.setAttribute("color","#FFC0CB");
        const char1 = document.createElement("a-box");
        char1.setAttribute("position","-1 1 -3"); char1.setAttribute("color","#FF69B4"); char1.setAttribute("depth","1"); char1.setAttribute("height","2"); char1.setAttribute("width","1");
        char1.addEventListener("click", ()=>{
          points+=10; items.push("í•˜íŠ¸"); updateScore();
          logQuest("ğŸ’Œ ìºë¦­í„°1ê³¼ ëŒ€í™” ì™„ë£Œ! +10ì , í•˜íŠ¸ íšë“");
        });
        const char2 = document.createElement("a-box");
        char2.setAttribute("position","1 1 -3"); char2.setAttribute("color","#FF1493"); char2.setAttribute("depth","1"); char2.setAttribute("height","2"); char2.setAttribute("width","1");
        char2.addEventListener("click", ()=>{
          points+=10; items.push("í•˜íŠ¸"); updateScore();
          logQuest("ğŸ’Œ ìºë¦­í„°2ê³¼ ëŒ€í™” ì™„ë£Œ! +10ì , í•˜íŠ¸ íšë“");
        });
        moduleContent.appendChild(char1);
        moduleContent.appendChild(char2);
      }
      else if(currentModule==="space"){
        vrSky.setAttribute("color","#000022");
        const planet1 = document.createElement("a-sphere");
        planet1.setAttribute("position","-1 1.5 -4"); planet1.setAttribute("radius","1"); planet1.setAttribute("color","#FFA500");
        planet1.addEventListener("click", ()=>{
          points+=15; items.push("í–‰ì„± ì§€ë„"); updateScore();
          logQuest("ğŸª í–‰ì„±1 íƒí—˜ ì™„ë£Œ! +15ì , í–‰ì„± ì§€ë„ íšë“");
        });
        const planet2 = document.createElement("a-sphere");
        planet2.setAttribute("position","1 2 -5"); planet2.setAttribute("radius","1.2"); planet2.setAttribute("color","#00FFFF");
        planet2.addEventListener("click", ()=>{
          points+=15; items.push("í–‰ì„± ì§€ë„"); updateScore();
          logQuest("ğŸª í–‰ì„±2 íƒí—˜ ì™„ë£Œ! +15ì , í–‰ì„± ì§€ë„ íšë“");
        });
        moduleContent.appendChild(planet1);
        moduleContent.appendChild(planet2);
      }
      else if(currentModule==="hobby"){
        vrSky.setAttribute("color","#A0E0A0");
        const tree = document.createElement("a-cone");
        tree.setAttribute("position","-1 0.5 -3"); tree.setAttribute("radius-bottom","0.5"); tree.setAttribute("height","2"); tree.setAttribute("color","#228B22");
        tree.addEventListener("click", ()=>{
          points+=5; items.push("ê½ƒ"); updateScore();
          logQuest("ğŸŒ³ ê½ƒ ê´€ì°° ì™„ë£Œ! +5ì , ê½ƒ íšë“");
        });
        const bench = document.createElement("a-box");
        bench.setAttribute("position","1 0.3 -3"); bench.setAttribute("depth","0.5"); bench.setAttribute("height","0.5"); bench.setAttribute("width","2"); bench.setAttribute("color","#8B4513");
        bench.addEventListener("click", ()=>{
          points+=5; items.push("ì»¤í”¼"); updateScore();
          logQuest("ğŸª‘ ë²¤ì¹˜ì—ì„œ íœ´ì‹ ì™„ë£Œ! +5ì , ì»¤í”¼ íšë“");
        });
        moduleContent.appendChild(tree);
        moduleContent.appendChild(bench);
      }
    });

    // ë’¤ë¡œê°€ê¸° ë²„íŠ¼
    backBtn.addEventListener("click", ()=>{
      if(vrScreen.style.display==="flex"){
        vrScreen.style.display="none";
        moduleScreen.style.display="flex";
      } else {
        moduleScreen.style.display="none";
        homeScreen.style.display="flex";
      }
      backBtn.style.display="none";
      startVRBtn.style.display="none";
      moduleContent.innerHTML="";
      logMessages = [];
      questLog.innerHTML="";
      statusEl.textContent="ìƒíƒœ: ëŒ€ê¸° ì¤‘";
    });

  </script>
</body>
</html> 
