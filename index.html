<!DOCTYPE html>
<html lang="ko">
<head>
<meta charset="UTF-8">
<title>Me2Verse VR í†µí•©í˜• ì²´í—˜</title>
<script src="https://aframe.io/releases/1.4.2/aframe.min.js"></script>
<style>
  body { margin:0; padding:0; font-family: Arial, sans-serif; background:#f0f0f0; }
  #status{position:fixed;top:10px;left:50%;transform:translateX(-50%);
          background:rgba(255,255,255,0.85);padding:5px 10px;border-radius:5px;font-size:16px; z-index:5;}
  #score{position:fixed;bottom:10px;left:50%;transform:translateX(-50%);
         background:rgba(0,0,0,0.6);color:white;padding:5px 10px;border-radius:5px;font-size:16px; z-index:5;}
  .screen{width:100%;height:100vh;display:flex;justify-content:center;
          align-items:center;flex-direction:column;transition:all 0.5s;position:absolute;top:0;left:0;}
  #homeScreen{background:white; z-index:3;}
  #moduleScreen{background:#fafafa;display:none; z-index:2;}
  #vrScreen{background:black;display:none; z-index:1;}
  input,select,button{padding:10px 15px;margin:5px;font-size:16px;border-radius:5px;border:1px solid #ccc;}
  button{cursor:pointer;border:none;color:white;}
  #autoBtn{background-color:#2196F3;}
  .moduleBtn{background-color:#4CAF50;}
  #startVRBtn{background-color:#9C27B0;display:none;margin-top:10px;}
  #backBtn{background-color:#FF5722;display:none;margin-top:15px;}
  #questLog{margin-top:15px;background:rgba(255,255,255,0.8);padding:10px;border-radius:5px;width:80%;max-width:400px;font-size:14px;max-height:150px;overflow-y:auto;}
  a-scene{width:100%;height:100vh;}
  #flagContainer{display:flex; justify-content:space-between; width:100%; max-width:400px; margin-bottom:10px;}
  #flagContainer img{width:80px;}
</style>
</head>
<body>

<div id="status">ìƒíƒœ: ëŒ€ê¸° ì¤‘</div>
<div id="score">í¬ì¸íŠ¸: 0 | ì•„ì´í…œ: ì—†ìŒ</div>

<!-- í™ˆ í™”ë©´ -->
<div id="homeScreen" class="screen">
  <div id="flagContainer">
    <img src="https://upload.wikimedia.org/wikipedia/commons/0/09/Flag_of_South_Korea.svg" alt="íƒœê·¹ê¸°">
    <img src="https://upload.wikimedia.org/wikipedia/commons/0/09/Flag_of_South_Korea.svg" alt="íƒœê·¹ê¸°">
  </div>
  <h1>ğŸš€ Me2Verse VR í†µí•© ì²´í—˜</h1>
  <p>ë¡œê·¸ì¸(íŒŒì´ ë„¤íŠ¸ì›Œí¬ ê³„ì •) í›„ ë¬´ë£Œ ì²´í—˜ ë˜ëŠ” í•˜ì´ë¼ì´íŠ¸ ì²´í—˜ ì„ íƒ</p>
  <input type="text" id="username" placeholder="ìœ ì € ì´ë¦„ ì…ë ¥">
  <button id="autoBtn">ë¡œê·¸ì¸</button>
</div>

<!-- ëª¨ë“ˆ ì„ íƒ í™”ë©´ -->
<div id="moduleScreen" class="screen">
  <h2>ëª¨ë“ˆ ì„ íƒ</h2>
  <div>
    <button class="moduleBtn" id="loveModule">ì—°ì•  ëª¨ë“ˆ</button>
    <button class="moduleBtn" id="spaceModule">ìš°ì£¼ì²´í—˜ ëª¨ë“ˆ</button>
    <button class="moduleBtn" id="hobbyModule">ì·¨ë¯¸ ëª¨ë“ˆ</button>
    <button class="moduleBtn" id="travelModule">ì—¬í–‰ ëª¨ë“ˆ</button>
  </div>
  <div id="moduleDetail" style="margin-top:20px;">
    <h3 id="moduleTitle"></h3>
    <p id="moduleDesc"></p>
    <button id="startVRBtn">VR ì²´í—˜ ì‹œì‘</button>
    <button id="backBtn">ğŸ  í™ˆìœ¼ë¡œ</button>
    <div id="questLog"></div>
  </div>
</div>

<!-- VR í™”ë©´ -->
<div id="vrScreen" class="screen">
  <a-scene id="vrScene">
    <a-sky id="vrSky" color="#ECECEC"></a-sky>
    <a-entity id="moduleContent"></a-entity>
    <a-entity id="cameraRig" position="0 1.6 0">
      <a-camera wasd-controls look-controls>
        <a-cursor color="black"></a-cursor>
      </a-camera>
    </a-entity>
    <a-entity light="type: ambient; intensity:0.6"></a-entity>
    <a-entity light="type: directional; intensity:0.8" position="1 2 1"></a-entity>
  </a-scene>
</div>

<script>
const statusEl=document.getElementById("status");
const scoreEl=document.getElementById("score");
const homeScreen=document.getElementById("homeScreen");
const moduleScreen=document.getElementById("moduleScreen");
const vrScreen=document.getElementById("vrScreen");
const moduleContent=document.getElementById("moduleContent");
const vrSky=document.getElementById("vrSky");
const moduleTitle=document.getElementById("moduleTitle");
const moduleDesc=document.getElementById("moduleDesc");
const startVRBtn=document.getElementById("startVRBtn");
const backBtn=document.getElementById("backBtn");
const questLog=document.getElementById("questLog");

let points=0, items=[], currentModule="", logMessages=[];

function updateScore(){ scoreEl.textContent=`í¬ì¸íŠ¸: ${points} | ì•„ì´í…œ: ${items.length?items.join(", "):"ì—†ìŒ"}`; }
function logQuest(msg){ logMessages.push(msg); questLog.innerHTML=logMessages.map(m=>`â€¢ ${m}`).join("<br>"); }

// ë¡œê·¸ì¸
document.getElementById("autoBtn").addEventListener("click",()=>{
  const username=document.getElementById("username").value.trim();
  if(!username){ alert("ìœ ì € ì´ë¦„ ì…ë ¥ í•„ìš”!"); return; }
  statusEl.textContent=`ìƒíƒœ: ${username} ë¡œê·¸ì¸ ì¤‘...`;
  setTimeout(()=>{
    statusEl.textContent=`ìƒíƒœ: ${username} ë¡œê·¸ì¸ ì„±ê³µ! ğŸ‰`;
    alert(`${username}ë‹˜ í™˜ì˜í•©ë‹ˆë‹¤!`);
    homeScreen.style.display="none";
    moduleScreen.style.display="flex";
  },1000);
});

// ëª¨ë“ˆ ì •ì˜ (ê° ëª¨ë“ˆ 10ê°œ ì´ìƒ ìŠ¤í† ë¦¬)
const modules={
love:{title:"ì—°ì•  ëª¨ë“ˆ", desc:"ê³µì›ê³¼ ì¹´í˜ ë“±ì—ì„œ ìºë¦­í„°ì™€ ìƒí˜¸ì‘ìš©í•˜ë©° ê°ì„± ì²´í—˜", sky:"#FFC0CB",
stories:[
{desc:"ì²« ë§Œë‚¨", points:5, item:"í•˜íŠ¸"},
{desc:"ì²« ëŒ€í™”", points:5, item:"í•˜íŠ¸"},
{desc:"ê³µì› ì‚°ì±…", points:10, item:"ì‚¬ì§„"},
{desc:"ì»¤í”¼ ë°ì´íŠ¸", points:10, item:"ì»¤í”¼"},
{desc:"ì¶•ì œ ì°¸ê°€", points:15, item:"ì¶•ì œ í‘œ"},
{desc:"ì˜í™”ê´€ ë°ì´íŠ¸", points:15, item:"íŒì½˜"},
{desc:"ë°¤í•˜ëŠ˜ ê´€ì°°", points:20, item:"ë³„"},
{desc:"í¸ì§€ ì£¼ê¸°", points:20, item:"í¸ì§€"},
{desc:"ì„ ë¬¼ ì£¼ê¸°", points:25, item:"ì„ ë¬¼"},
{desc:"ì—°ì•  ì™„ë£Œ", points:50, item:"í•˜íŠ¸ ë±ƒì§€"}]
},
space:{title:"ìš°ì£¼ì²´í—˜ ëª¨ë“ˆ", desc:"íƒì‚¬ì„  íƒ‘ìŠ¹ â†’ í–‰ì„± íƒí—˜ â†’ ì§€ë„, ì•„ì´í…œ ìˆ˜ì§‘", sky:"#000022",
stories:[
{desc:"íƒì‚¬ì„  íƒ‘ìŠ¹", points:5, item:"íƒ‘ìŠ¹ê¶Œ"},
{desc:"í–‰ì„± ì°©ë¥™", points:10, item:"í–‰ì„± ì§€ë„"},
{desc:"í™”ì„± íƒì‚¬", points:15, item:"í™”ì„± ìƒ˜í”Œ"},
{desc:"ê¸ˆì„± íƒì‚¬", points:15, item:"ê¸ˆì„± ìƒ˜í”Œ"},
{desc:"ì†Œí–‰ì„± ê´€ì°°", points:20, item:"ì†Œí–‰ì„± ìƒ˜í”Œ"},
{desc:"ì€í•˜ íƒí—˜", points:25, item:"ì€í•˜ ì§€ë„"},
{desc:"ìš°ì£¼ ì •ê±°ì¥ ì²´í—˜", points:25, item:"ì •ê±°ì¥ ê¸°ë…í’ˆ"},
{desc:"ë¸”ë™í™€ ê´€ì°°", points:30, item:"ë¸”ë™í™€ ê¸°ë¡"},
{desc:"ì™¸ê³„ì¸ ì ‘ì´‰", points:40, item:"ì™¸ê³„ ìƒëª…ì²´ ê¸°ë¡"},
{desc:"ìš°ì£¼ ì²´í—˜ ì™„ë£Œ", points:50, item:"ìš°ì£¼ ë±ƒì§€"}]
},
hobby:{title:"ì·¨ë¯¸ ëª¨ë“ˆ", desc:"ìˆ²ì† ì‚°ì±…, ë¯¸ìˆ , ìŒì•… ë“± ì²´í—˜", sky:"#A0E0A0",
stories:[
{desc:"ìˆ²ì† ì‚°ì±…", points:5, item:"ê½ƒ"},
{desc:"ê½ƒ ê´€ì°°", points:5, item:"ê½ƒ ì‚¬ì§„"},
{desc:"ìƒˆ ì†Œë¦¬ ë“£ê¸°", points:10, item:"ìƒˆ ì†Œë¦¬ ê¸°ë¡"},
{desc:"ë¯¸ìˆ  ì²´í—˜", points:15, item:"ê·¸ë¦¼"},
{desc:"ìŒì•… ê°ìƒ", points:15, item:"ì•…ë³´"},
{desc:"ì‚¬ì§„ ì´¬ì˜", points:20, item:"ì‚¬ì§„"},
{desc:"ì»¤í”¼ ë§Œë“¤ê¸°", points:20, item:"ì»¤í”¼"},
{desc:"ì°¨ ë§ˆì‹œê¸°", points:25, item:"ì°»ì”"},
{desc:"ìº í•‘ ì²´í—˜", points:25, item:"í…íŠ¸"},
{desc:"ì·¨ë¯¸ ì™„ë£Œ", points:50, item:"ì·¨ë¯¸ ë±ƒì§€"}]
},
travel:{title:"ì—¬í–‰ ëª¨ë“ˆ", desc:"ì„¸ê³„ ê°ì§€ ì—¬í–‰ê³¼ ëª…ì†Œ íƒí—˜", sky:"#87CEEB",
stories:[
{desc:"ì„œìš¸ íƒë°©", points:5, item:"ì„œìš¸ ì‚¬ì§„"},
{desc:"ë¶€ì‚° íƒë°©", points:5, item:"ë¶€ì‚° ì‚¬ì§„"},
{desc:"ì œì£¼ ì—¬í–‰", points:10, item:"ì œì£¼ ì‚¬ì§„"},
{desc:"ê²½ì£¼ íƒë°©", points:10, item:"ê²½ì£¼ ì‚¬ì§„"},
{desc:"ì„¸ê³„ ë°•ë¬¼ê´€ ë°©ë¬¸", points:15, item:"ë°•ë¬¼ê´€ ê¸°ë…í’ˆ"},
{desc:"ìœ ì ì§€ íƒí—˜", points:20, item:"ìœ ì  ê¸°ë…í’ˆ"},
{desc:"í˜„ì§€ ìŒì‹ ì²´í—˜", points:25, item:"ìŒì‹ ì‚¬ì§„"},
{desc:"ì „í†µ ê³µì—° ê´€ëŒ", points:25, item:"ê³µì—° í‘œ"},
{desc:"ë„ì‹œ ì•¼ê²½ ê´€ëŒ", points:30, item:"ì•¼ê²½ ì‚¬ì§„"},
{desc:"ì—¬í–‰ ì™„ë£Œ", points:50, item:"ì—¬í–‰ ë±ƒì§€"}]
}
};

function selectModule(name){
currentModule=name;
moduleTitle.textContent=modules[name].title;
moduleDesc.textContent=modules[name].desc;
startVRBtn.style.display="inline-block";
backBtn.style.display="inline-block";
logMessages=[];
questLog.innerHTML="";
}

document.getElementById("loveModule").addEventListener("click",()=>selectModule("love"));
document.getElementById("spaceModule").addEventListener("click",()=>selectModule("space"));
document.getElementById("hobbyModule").addEventListener("click",()=>selectModule("hobby"));
document.getElementById("travelModule").addEventListener("click",()=>selectModule("travel"));

// VR ì²´í—˜ ì‹œì‘
startVRBtn.addEventListener("click",()=>{
moduleScreen.style.display="none";
vrScreen.style.display="flex";
moduleContent.innerHTML="";
points=0; items=[]; updateScore();
logMessages=[]; questLog.innerHTML="";

const mod=modules[currentModule];
vrSky.setAttribute("color",mod.sky);

// ì•„ë°”íƒ€/ìŠ¤í† ë¦¬ ìˆœì°¨ì  ì²´í—˜
mod.stories.forEach((story,index)=>{
setTimeout(()=>{
points+=story.points; 
items.push(story.item); 
updateScore(); 
logQuest(story.desc + " ì™„ë£Œ! +" + story.points + "ì , " + story.item + " íšë“");
}, index*2000); // 2ì´ˆ ê°„ê²©ìœ¼ë¡œ ì§„í–‰
});
});

// ë’¤ë¡œê°€ê¸°
backBtn.addEventListener("click",()=>{
if(vrScreen.style.display==="flex"){
vrScreen.style.display="none";
moduleScreen.style.display="flex";
}else{
moduleScreen.style.display="none";
homeScreen.style.display="flex";
}
backBtn.style.display="none";
startVRBtn.style.display="none";
moduleContent.innerHTML="";
logMessages=[];
questLog.innerHTML="";
statusEl.textContent="ìƒíƒœ: ëŒ€ê¸° ì¤‘";
});
</script>
</body>
</html>
