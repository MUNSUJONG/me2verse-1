<!DOCTYPE html>
<html lang="ko">
<head>
<meta charset="UTF-8" />
<title>Me2Verse â€“ ë¡œê·¸ì¸/ê²°ì œ ìœ ì§€ + ìŠ¤í† ë¦¬ ì²´í—˜(ì›¹)</title>
<style>
  :root { --card:#ffffff; --ink:#222; --muted:#666; --brand:#7C3AED; --ok:#4CAF50; --warn:#FF5722; --pi:#6A1B9A; }
  * { box-sizing: border-box; }
  body { margin:0; font-family: Arial, system-ui, -apple-system, Segoe UI, Roboto, "Noto Sans KR", sans-serif; background:#f5f6fa; color:var(--ink); }
  a { color:inherit; text-decoration:none; }
  .screen { width:100%; min-height:100vh; display:flex; align-items:center; justify-content:center; padding:24px; position:absolute; inset:0; transition:opacity .25s ease; }
  #homeScreen { background:linear-gradient(180deg,#fff, #f0f4ff); z-index:3; }
  #moduleScreen { background:linear-gradient(180deg,#fafafa,#eef1f4); z-index:2; display:none; }
  .card { width:100%; max-width:960px; background:var(--card); border-radius:16px; box-shadow:0 10px 30px rgba(0,0,0,.08); padding:20px; }
  .row { display:flex; gap:16px; flex-wrap:wrap; }
  .col { flex:1 1 280px; }

  /* í—¤ë” ì •ë³´ */
  #status { position:fixed; top:10px; left:50%; transform:translateX(-50%); background:rgba(255,255,255,.9);
            padding:6px 10px; border-radius:8px; font-size:14px; z-index:10; box-shadow:0 4px 10px rgba(0,0,0,.06); }
  #score  { position:fixed; bottom:10px; left:50%; transform:translateX(-50%); background:rgba(0,0,0,.75); color:#fff;
            padding:6px 10px; border-radius:8px; font-size:14px; z-index:10; }

  /* í™ˆ */
  #flagContainer { display:flex; justify-content:space-between; gap:24px; align-items:center; margin-bottom:16px; }
  #flagContainer img { width:90px; height:auto; filter:drop-shadow(0 2px 6px rgba(0,0,0,.15)); }
  .title { font-size:26px; font-weight:800; margin:4px 0 8px; letter-spacing:-.2px; }
  .subtitle { color:var(--muted); margin:0 0 20px; }
  .inputs { display:flex; gap:8px; flex-wrap:wrap; margin:8px 0 12px; }
  input, select, button { font-size:16px; padding:12px 14px; border-radius:10px; border:1px solid #e5e7eb; }
  button { border:0; color:#fff; cursor:pointer; font-weight:700; }
  #autoBtn { background:#2196F3; }
  .hint { font-size:12px; color:var(--muted); margin-top:6px; }

  /* ëª¨ë“ˆ */
  .modules { display:grid; grid-template-columns:repeat(auto-fit,minmax(220px,1fr)); gap:14px; margin-top:12px; }
  .moduleBtn { background:var(--ok); width:100%; }
  .moduleCard { background:#fff; border:1px solid #eef; border-radius:14px; padding:14px; }
  .moduleCard h3 { margin:0 0 6px; font-size:18px; }
  .moduleCard p { margin:0; color:var(--muted); font-size:14px; }

  .detail { margin-top:18px; display:grid; grid-template-columns: 1.2fr .8fr; gap:14px; }
  @media (max-width:800px){ .detail{ grid-template-columns:1fr; } }
  .storyBox, .questBox { background:#fff; border:1px solid #e8eaf6; border-radius:14px; padding:14px; }
  .storyBox h4, .questBox h4 { margin:0 0 8px; }
  .badge { display:inline-flex; align-items:center; gap:6px; font-size:12px; padding:4px 8px; border-radius:999px; background:#eef2ff; color:#3730a3; margin-right:6px; }
  .actions { display:flex; gap:8px; margin-top:10px; flex-wrap:wrap; }
  #startStoryBtn { background:var(--brand); }
  #backBtn { background:var(--warn); }
  .questLog { border:1px dashed #d1d5db; padding:10px; border-radius:10px; background:#fafafa; max-height:220px; overflow:auto; font-size:13px; }
  .questLog b { color:#111; }
  .pill { display:inline-flex; align-items:center; gap:8px; padding:8px 10px; border-radius:12px; border:1px solid #eee; background:#fff; }
  .emoji { font-size:18px; }
  .divider { height:1px; background:#eee; margin:10px 0; }
</style>
</head>
<body>
  <div id="status">ìƒíƒœ: ëŒ€ê¸° ì¤‘</div>
  <div id="score">í¬ì¸íŠ¸: 0 | ì•„ì´í…œ: ì—†ìŒ</div>

  <!-- í™ˆ í™”ë©´ -->
  <section id="homeScreen" class="screen">
    <div class="card">
      <div id="flagContainer">
        <img src="https://upload.wikimedia.org/wikipedia/commons/0/09/Flag_of_South_Korea.svg" alt="íƒœê·¹ê¸° ì™¼ìª½">
        <img src="https://upload.wikimedia.org/wikipedia/commons/0/09/Flag_of_South_Korea.svg" alt="íƒœê·¹ê¸° ì˜¤ë¥¸ìª½">
      </div>
      <div class="title">ğŸš€ Me2Verse (ì›¹ ì²´í—˜íŒ)</div>
      <p class="subtitle">ë¡œê·¸ì¸ â†’ <b style="color:var(--pi)">Pi ì½”ì¸</b> ê²°ì œ â†’ ëª¨ë“ˆ ì„ íƒ â†’ ìŠ¤í† ë¦¬ ì²´í—˜</p>

      <div class="row">
        <div class="col">
          <div class="moduleCard">
            <h3>ë¡œê·¸ì¸ & ê²°ì œ</h3>
            <p>ì•„ë˜ ì •ë³´ ì…ë ¥ í›„ <b>ìë™ ë¡œê·¸ì¸ + ê²°ì œ</b>ë¥¼ ëˆŒëŸ¬ ì§„í–‰í•˜ì„¸ìš”. (Pi ì½”ì¸)</p>
            <div class="inputs">
              <input type="text" id="username" placeholder="ìœ ì € ì´ë¦„ ì…ë ¥" />
              <select id="amount">
                <option value="1000">1 Piì½”ì¸</option>
                <option value="5000">5 Piì½”ì¸</option>
                <option value="10000">10 Piì½”ì¸</option>
              </select>
              <button id="autoBtn">ìë™ ë¡œê·¸ì¸ + ê²°ì œ</button>
            </div>
            <div class="hint">â€» ì‹¤ì œ ê²°ì œê°€ ì•„ë‹Œ ë°ëª¨ ì‹œë®¬ë ˆì´ì…˜ì…ë‹ˆë‹¤.</div>
          </div>
        </div>

        <div class="col">
          <div class="moduleCard">
            <h3>êµ¬ì„± ì•ˆë‚´</h3>
            <p><span class="badge">ì—°ì• </span><span class="badge">ìš°ì£¼</span><span class="badge">ì·¨ë¯¸</span> 3ê°œ ëª¨ë“ˆì˜
              ìŠ¤í† ë¦¬ë¥¼ <b>í´ë¦­ ë¯¸ì…˜</b>ìœ¼ë¡œ ì²´í—˜í•˜ê³  í¬ì¸íŠ¸ì™€ ì•„ì´í…œì„ íšë“í•˜ì„¸ìš”.</p>
            <div class="divider"></div>
            <div class="pill"><span class="emoji">ğŸª™</span><b>ê²°ì œ ë‹¨ìœ„</b> : Pi ì½”ì¸</div>
            <div class="pill"><span class="emoji">ğŸ³ï¸</span><b>íƒœê·¹ê¸°</b> : ìƒë‹¨ ì–‘ìª½ ë°°ì¹˜</div>
            <div class="pill"><span class="emoji">ğŸ“œ</span><b>í€˜ìŠ¤íŠ¸ ë¡œê·¸</b> : ì§„í–‰ ìƒí™© ì‹¤ì‹œê°„ ê¸°ë¡</div>
          </div>
        </div>
      </div>
    </div>
  </section>

  <!-- ëª¨ë“ˆ í™”ë©´ -->
  <section id="moduleScreen" class="screen">
    <div class="card">
      <div class="title">ëª¨ë“ˆ ì„ íƒ</div>
      <p class="subtitle">ì›í•˜ëŠ” ëª¨ë“ˆì„ ê³ ë¥´ê³ , ìŠ¤í† ë¦¬ë¥¼ <b>ë°”ë¡œ</b> ì²´í—˜í•˜ì„¸ìš”. (VR ì œê±° ë²„ì „)</p>

      <div class="modules">
        <button class="moduleBtn" id="loveModule">ğŸ’˜ ì—°ì•  ëª¨ë“ˆ</button>
        <button class="moduleBtn" id="spaceModule">ğŸª ìš°ì£¼ì²´í—˜ ëª¨ë“ˆ</button>
        <button class="moduleBtn" id="hobbyModule">ğŸŒ² ì·¨ë¯¸ ëª¨ë“ˆ</button>
      </div>

      <div class="detail">
        <div class="storyBox">
          <h4 id="moduleTitle">ëª¨ë“ˆì„ ì„ íƒí•˜ë©´ ìŠ¤í† ë¦¬ê°€ í‘œì‹œë©ë‹ˆë‹¤.</h4>
          <p id="moduleDesc"></p>

          <div id="storySteps"></div>

          <div class="actions">
            <button id="startStoryBtn" style="display:none">ì²´í—˜ ì‹œì‘</button>
            <button id="backBtn" style="display:none">ğŸ  ë’¤ë¡œê°€ê¸°</button>
          </div>
        </div>

        <div class="questBox">
          <h4>í€˜ìŠ¤íŠ¸ ë¡œê·¸</h4>
          <div id="questLog" class="questLog">â€¢ ì•„ì§ ì§„í–‰ ë‚´ì—­ì´ ì—†ìŠµë‹ˆë‹¤.</div>
        </div>
      </div>
    </div>
  </section>

<script>
  const statusEl = document.getElementById("status");
  const scoreEl  = document.getElementById("score");
  const homeScreen   = document.getElementById("homeScreen");
  const moduleScreen = document.getElementById("moduleScreen");

  const moduleTitle = document.getElementById("moduleTitle");
  const moduleDesc  = document.getElementById("moduleDesc");
  const storySteps  = document.getElementById("storySteps");
  const questLogEl  = document.getElementById("questLog");

  const startStoryBtn = document.getElementById("startStoryBtn");
  const backBtn       = document.getElementById("backBtn");

  let points = 0;
  let items = [];
  let logMessages = [];
  let currentModule = "";
  let currentStepIndex = 0;

  function updateScore(){
    scoreEl.textContent = `í¬ì¸íŠ¸: ${points} | ì•„ì´í…œ: ${items.length ? items.join(", ") : "ì—†ìŒ"}`;
  }
  function log(msg){
    logMessages.push(msg);
    questLogEl.innerHTML = logMessages.map(m => `â€¢ ${m}`).join("<br>");
  }

  // ========= ë¡œê·¸ì¸ + ê²°ì œ (ìš”ì²­ëŒ€ë¡œ ê¸°ì¡´ ë¡œì§ ìœ ì§€) =========
  document.getElementById("autoBtn").addEventListener("click", ()=>{
    const username = document.getElementById("username").value.trim();
    const amount   = document.getElementById("amount").value;
    if(!username){ alert("ìœ ì € ì´ë¦„ ì…ë ¥ í•„ìš”!"); return; }

    statusEl.textContent=`ìƒíƒœ: ${username} ë¡œê·¸ì¸ ì¤‘...`;
    setTimeout(()=>{
      statusEl.textContent=`ìƒíƒœ: ${username} ë¡œê·¸ì¸ ì„±ê³µ! ğŸ‰`;
      statusEl.textContent=`ìƒíƒœ: ${amount} Piì½”ì¸ ê²°ì œ ì²˜ë¦¬ ì¤‘...`;
      setTimeout(()=>{
        statusEl.textContent=`ìƒíƒœ: ${username} ê²°ì œ ì™„ë£Œ! ğŸ’°`;
        alert(`${username}ë‹˜ì˜ ${amount} Piì½”ì¸ ê²°ì œê°€ ì™„ë£Œë˜ì—ˆìŠµë‹ˆë‹¤!`);
        // ê²°ì œ ì™„ë£Œ í›„ ëª¨ë“ˆ í™”ë©´ìœ¼ë¡œ
        homeScreen.style.display="none";
        moduleScreen.style.display="flex";
      },1500);
    },1000);
  });
  // ========================================================

  // ===== ëª¨ë“ˆ ë°ì´í„° (VR ì œê±°, ë²„íŠ¼/í…ìŠ¤íŠ¸ ê¸°ë°˜ ì²´í—˜) =====
  const modules = {
    love: {
      title: "ì—°ì•  ëª¨ë“ˆ â€” ê³µì›ì—ì„œì˜ ì²« ë§Œë‚¨",
      desc:  "ê³µì›ì—ì„œ í˜¸ê°ë„(í•˜íŠ¸)ë¥¼ ëª¨ìœ¼ë©° ì¹œë°€ë„ë¥¼ ì˜¬ë¦¬ì„¸ìš”. ëŒ€í™” â†’ ì„ ë¬¼ â†’ ì•½ì†ì˜ ìˆœì„œë¡œ ì§„í–‰ë©ë‹ˆë‹¤.",
      steps: [
        { label:"â‘  ì¸ì‚¬í•˜ê³  ì†Œê°œí•˜ê¸°",  log:"ğŸ’¬ ì²« ëŒ€í™”ê°€ ì–´ìƒ‰í•¨ì„ ë…¹ì˜€ìŠµë‹ˆë‹¤. +5ì ", points:5,  item:null },
        { label:"â‘¡ ê³µì› ì‚°ì±… ê¶Œìœ í•˜ê¸°", log:"ğŸš¶ ì‚°ì±…ì„ í•¨ê»˜ í•˜ë©° ê³µê°ëŒ€ í˜•ì„±! +10ì ", points:10, item:"ê³µê° í¬ì¸íŠ¸" },
        { label:"â‘¢ ì‘ì€ ì„ ë¬¼ ì „í•˜ê¸°",  log:"ğŸ ì„ ë¬¼ì´ ë§ˆìŒì— ë“¤ì—ˆìŠµë‹ˆë‹¤. +15ì ", points:15, item:"í•˜íŠ¸" },
        { label:"â‘£ ë‹¤ìŒ ë§Œë‚¨ ì•½ì†",    log:"ğŸ“… ë‹¤ìŒ ë§Œë‚¨ì„ ì•½ì†í–ˆì–´ìš”! +20ì ", points:20, item:"ë°ì´íŠ¸ í‹°ì¼“" },
      ],
      rewards: "ì´ 50ì  + í•˜íŠ¸/í‹°ì¼“ ì•„ì´í…œ"
    },
    space: {
      title: "ìš°ì£¼ì²´í—˜ ëª¨ë“ˆ â€” ì†Œí–‰ì„± ì •ê±°ì¥ ì„ë¬´",
      desc:  "ì •ê±°ì¥ ì¶œë°œ â†’ ì†Œí–‰ì„± ìŠ¤ìº” â†’ ìƒ˜í”Œ íšŒìˆ˜ â†’ ê·€í™˜ ë³´ê³ . ê° ë‹¨ê³„ì—ì„œ ê³¼í•™ ë°ì´í„°ë¥¼ íšë“í•˜ì„¸ìš”.",
      steps: [
        { label:"â‘  ì •ê±°ì¥ ì ê²€",   log:"ğŸ›°ï¸ ì‹œìŠ¤í…œ ì •ìƒ. ì„ë¬´ ì¤€ë¹„ ì™„ë£Œ! +5ì ",  points:5,  item:"ì ê²€ ë¡œê·¸" },
        { label:"â‘¡ ì†Œí–‰ì„± ìŠ¤ìº”",   log:"ğŸ”­ ìŠ¤ìº” ë°ì´í„° í™•ë³´ ì™„ë£Œ! +15ì ", points:15, item:"ìŠ¤ìº” ë°ì´í„°" },
        { label:"â‘¢ ìƒ˜í”Œ íšŒìˆ˜",     log:"ğŸ§ª ê·€ì¤‘í•œ ìƒ˜í”Œ ì±„ì·¨ ì„±ê³µ! +20ì ", points:20, item:"ì•”ì„ ìƒ˜í”Œ" },
        { label:"â‘£ ê·€í™˜ ë° ë³´ê³ ",   log:"ğŸ“¡ ë³¸ë¶€ ë³´ê³  ì™„ë£Œ! +10ì ",      points:10, item:"ì„ë¬´ ë¦¬í¬íŠ¸" },
      ],
      rewards: "ì´ 50ì  + ê³¼í•™ ë°ì´í„° ì„¸íŠ¸"
    },
    hobby: {
      title: "ì·¨ë¯¸ ëª¨ë“ˆ â€” ìˆ²ì† íœ´ì‹ê³¼ ì»¤í”¼",
      desc:  "ìˆ²ê¸¸ ê±·ê¸° â†’ ì‚¬ì§„ ì´¬ì˜ â†’ í•¸ë“œë“œë¦½ ì»¤í”¼ â†’ ì¡°ìš©í•œ ë…ì„œ. ë§ˆìŒì˜ í‰í™”ë¥¼ ì–»ì–´ë³´ì„¸ìš”.",
      steps: [
        { label:"â‘  ìˆ²ê¸¸ ê±·ê¸°",     log:"ğŸŒ² ìƒì¾Œí•œ ê³µê¸°ë¡œ ë¦¬í”„ë ˆì‹œ! +5ì ",  points:5,  item:"ìì‚¬ê·€" },
        { label:"â‘¡ ì‚¬ì§„ ì´¬ì˜",     log:"ğŸ“· ë©‹ì§„ ì‚¬ì§„ì„ ê±´ì¡ŒìŠµë‹ˆë‹¤! +10ì ", points:10, item:"ì‚¬ì§„" },
        { label:"â‘¢ í•¸ë“œë“œë¦½ ì»¤í”¼", log:"â˜• í–¥ì´ í›Œë¥­í•œ ì»¤í”¼ í•œ ì”! +15ì ", points:15, item:"ì»¤í”¼" },
        { label:"â‘£ ì¡°ìš©í•œ ë…ì„œ",   log:"ğŸ“– ëª°ì…ì˜ ì‹œê°„, ì§‘ì¤‘ë ¥ íšŒë³µ! +20ì ", points:20, item:"ì±…ê°ˆí”¼" },
      ],
      rewards: "ì´ 50ì  + íë§ ì•„ì´í…œ"
    }
  };

  const btnLove  = document.getElementById("loveModule");
  const btnSpace = document.getElementById("spaceModule");
  const btnHobby = document.getElementById("hobbyModule");

  btnLove.addEventListener("click",  ()=>selectModule("love"));
  btnSpace.addEventListener("click", ()=>selectModule("space"));
  btnHobby.addEventListener("click", ()=>selectModule("hobby"));

  function selectModule(key){
    const m = modules[key];
    currentModule = key;
    currentStepIndex = 0;
    moduleTitle.textContent = m.title;
    moduleDesc.textContent  = m.desc + ` (ë³´ìƒ: ${m.rewards})`;

    // ìŠ¤í… í‘œì‹œ (ë²„íŠ¼í˜•)
    storySteps.innerHTML = "";
    m.steps.forEach((s, idx)=>{
      const step = document.createElement("div");
      step.className = "pill";
      step.style.marginBottom = "8px";

      const left = document.createElement("div");
      left.innerHTML = `<span class="emoji">â¡ï¸</span> ${s.label}`;
      const right = document.createElement("div");
      right.style.marginLeft = "auto";

      const action = document.createElement("button");
      action.textContent = "ì‹¤í–‰";
      action.style.background = idx===0 ? "#111827" : "#9CA3AF";
      action.style.color = "#fff";
      action.style.fontWeight = "700";
      action.style.borderRadius = "10px";
      action.style.padding = "8px 12px";
      action.disabled = (idx!==0);

      action.dataset.index = idx;
      action.addEventListener("click", ()=>{
        runStep(idx);
      });

      right.appendChild(action);
      step.appendChild(left);
      step.appendChild(right);
      storySteps.appendChild(step);
    });

    startStoryBtn.style.display="inline-block";
    backBtn.style.display="inline-block";
    questLogEl.innerHTML = "â€¢ ëª¨ë“ˆì„ ì‹œì‘í•˜ë©´ ì§„í–‰ ë¡œê·¸ê°€ ê¸°ë¡ë©ë‹ˆë‹¤.";
  }

  function runStep(idx){
    const m = modules[currentModule];
    const s = m.steps[idx];
    if(idx !== currentStepIndex) return; // ìˆœì„œ ì§„í–‰

    // í¬ì¸íŠ¸/ì•„ì´í…œ ì§€ê¸‰
    points += s.points;
    if(s.item) items.push(s.item);
    updateScore();
    log(s.log);

    // ë‹¤ìŒ ìŠ¤í… í™œì„±í™”
    const buttons = storySteps.querySelectorAll("button");
    buttons[idx].textContent = "ì™„ë£Œ";
    buttons[idx].style.background = "#10B981";
    buttons[idx].disabled = true;

    currentStepIndex++;
    if(currentStepIndex < buttons.length){
      buttons[currentStepIndex].disabled = false;
      buttons[currentStepIndex].style.background = "#111827";
    } else {
      log("ğŸ ëª¨ë“ˆ ìŠ¤í† ë¦¬ ì™„ë£Œ! ì¶•í•˜í•©ë‹ˆë‹¤.");
    }
  }

  // ì²´í—˜ ì‹œì‘: ì²« ìŠ¤í…ì„ ì•ˆë‚´ë§Œ (ì´ë¯¸ ë²„íŠ¼ì—ì„œ ì‹¤í–‰í•¨)
  startStoryBtn.addEventListener("click", ()=>{
    logMessages = [];
    questLogEl.innerHTML = "â€¢ ìŠ¤í† ë¦¬ë¥¼ ì‹œì‘í–ˆìŠµë‹ˆë‹¤.";
    updateScore();
  });

  // ë’¤ë¡œê°€ê¸°
  backBtn.addEventListener("click", ()=>{
    moduleScreen.style.display = "none";
    homeScreen.style.display   = "flex";
    startStoryBtn.style.display = "none";
    backBtn.style.display = "none";
    storySteps.innerHTML = "";
    moduleTitle.textContent = "ëª¨ë“ˆì„ ì„ íƒí•˜ë©´ ìŠ¤í† ë¦¬ê°€ í‘œì‹œë©ë‹ˆë‹¤.";
    moduleDesc.textContent  = "";
    logMessages = [];
    questLogEl.innerHTML = "â€¢ ì•„ì§ ì§„í–‰ ë‚´ì—­ì´ ì—†ìŠµë‹ˆë‹¤.";
    statusEl.textContent = "ìƒíƒœ: ëŒ€ê¸° ì¤‘";
  });

  // ì´ˆê¸° ì ìˆ˜í‘œì‹œ
  updateScore();
</script>
</body>
</html>
